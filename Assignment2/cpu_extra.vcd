$date
	Fri Feb  6 21:49:57 2026
$end
$version
	Icarus Verilog
$end
$timescale
	1s
$end
$scope module cpu_tb $end
$var reg 1 ! clk $end
$var reg 1 " reset $end
$scope function encA $end
$upscope $end
$scope function encB $end
$upscope $end
$scope function encC $end
$upscope $end
$scope module dut $end
$var wire 1 ! clk $end
$var wire 8 # reg_r1 [7:0] $end
$var wire 8 $ reg_r2 [7:0] $end
$var wire 1 " reset $end
$var wire 1 % wb_sel_mem $end
$var wire 1 & s_idx $end
$var wire 1 ' reg_write $end
$var wire 1 ( pc_offset_is_jmp $end
$var wire 1 ) pc_inc $end
$var wire 1 * pc_add_offset $end
$var wire 4 + opcode [3:0] $end
$var wire 8 , off_ext [7:0] $end
$var wire 1 - mem_write $end
$var wire 8 . mem_data_out [7:0] $end
$var wire 1 / mem_addr_is_pc $end
$var wire 1 0 ir_write $end
$var wire 8 1 imm_ext [7:0] $end
$var wire 1 2 halted $end
$var wire 1 3 ds_idx $end
$var wire 1 4 alu_zero $end
$var wire 2 5 alu_src_b_sel [1:0] $end
$var wire 2 6 alu_src_a_sel [1:0] $end
$var wire 8 7 alu_result [7:0] $end
$var wire 2 8 alu_func [1:0] $end
$var reg 8 9 IR [7:0] $end
$var reg 8 : PC [7:0] $end
$var reg 8 ; alu_in_a [7:0] $end
$var reg 8 < alu_in_b [7:0] $end
$var reg 8 = mem_addr [7:0] $end
$scope module cpu_alu $end
$var wire 8 > a [7:0] $end
$var wire 8 ? b [7:0] $end
$var wire 1 4 zero $end
$var wire 2 @ func [1:0] $end
$var reg 8 A result [7:0] $end
$upscope $end
$scope module cu $end
$var wire 1 4 alu_zero $end
$var wire 1 ! clk $end
$var wire 4 B opcode [3:0] $end
$var wire 1 " reset $end
$var reg 2 C alu_func [1:0] $end
$var reg 2 D alu_src_a_sel [1:0] $end
$var reg 2 E alu_src_b_sel [1:0] $end
$var reg 2 F curr_state [1:0] $end
$var reg 1 2 halted $end
$var reg 1 0 ir_write $end
$var reg 1 / mem_addr_is_pc $end
$var reg 1 - mem_write $end
$var reg 2 G next_state [1:0] $end
$var reg 1 * pc_add_offset $end
$var reg 1 ) pc_inc $end
$var reg 1 ( pc_offset_is_jmp $end
$var reg 1 ' reg_write $end
$var reg 1 % wb_sel_mem $end
$upscope $end
$scope module mem_inst $end
$var wire 8 H addr [7:0] $end
$var wire 1 ! clk $end
$var wire 8 I data_in [7:0] $end
$var wire 8 J data_out [7:0] $end
$var wire 1 - write_en $end
$scope begin $ivl_for_loop0 $end
$var integer 32 K i [31:0] $end
$upscope $end
$upscope $end
$upscope $end
$scope task check_mem $end
$upscope $end
$scope task check_reg $end
$upscope $end
$scope task clear_mem $end
$upscope $end
$scope task load_instr $end
$upscope $end
$scope task reset_cpu $end
$upscope $end
$scope task run_until_halt $end
$upscope $end
$upscope $end
$enddefinitions $end
$comment Show the parameter values. $end
$dumpall
$end
#0
$dumpvars
b100000000 K
b110101 J
b0 I
b0 H
b1 G
b0 F
b0 E
b0 D
b11 C
b0 B
b0 A
b11 @
b0 ?
b0 >
b0 =
b0 <
b0 ;
b0 :
b0 9
b11 8
b0 7
b0 6
b0 5
14
03
02
b0 1
10
1/
b110101 .
0-
b0 ,
b0 +
0*
1)
0(
0'
0&
0%
b0 $
b0 #
1"
0!
$end
#5
1!
#10
0!
#12
0"
#15
04
b101 7
b101 A
b101 <
b101 ?
1'
b1 5
b1 E
0/
0)
00
b0 G
b110101 .
b110101 J
b0 =
b0 H
b11 +
b11 B
1&
b101 1
b101 ,
b1 F
b1 :
b110101 9
1!
#20
0!
#25
b0 <
b0 ?
b101 ;
b101 >
b111111 .
b111111 J
b1 =
b1 H
1)
10
1/
b0 5
b0 E
0'
b1 G
b101 #
b101 I
b0 F
1!
#30
0!
#35
b111 <
b111 ?
04
b111 7
b111 A
1'
b1 5
b1 E
0/
0)
00
b0 G
b0 ;
b0 >
b110101 .
b110101 J
b0 =
b0 H
b0 #
b0 I
13
b111 1
b11111111 ,
b1 F
b10 :
b111111 9
1!
#40
0!
#45
b1110 7
b1110 A
b111 ;
b111 >
b10100 .
b10100 J
b10 =
b10 H
1)
10
1/
b0 5
b0 E
0'
b1 G
b111 #
b111 I
b111 $
b0 F
1!
#50
0!
#55
b1100 7
b1100 A
1'
0/
0)
00
b0 G
b101 ;
b101 >
b111111 .
b111111 J
b111 =
b111 H
b1 +
b1 B
b101 #
b101 I
03
b100 1
b100 ,
b1 F
b11 :
b10100 9
1!
#60
0!
#65
b10011 7
b10011 A
b1100 ;
b1100 >
b1101000 .
b1101000 J
b11 =
b11 H
1)
10
1/
0'
b1 G
b1100 #
b1100 I
b0 F
1!
#70
0!
#75
1%
1'
0/
0)
00
b0 G
b1100 <
b1100 ?
b111 ;
b111 >
b1100 .
b1100 J
b1100 =
b1100 H
b110 +
b110 B
b111 #
b111 I
13
b1100 $
0&
b0 1
b11111000 ,
b1 F
b100 :
b1101000 9
1!
#80
0!
#85
b11000 7
b11000 A
b1100 ;
b1100 >
b10000001 .
b10000001 J
b100 =
b100 H
1)
10
1/
0%
0'
b1 G
b1100 #
b1100 I
b0 F
1!
#90
0!
#95
1*
14
b0 7
b0 A
b10 8
b10 @
b10 C
0/
0)
00
b0 G
b1100 .
b1100 J
b1100 =
b1100 H
b1000 +
b1000 B
03
b1 1
b1 ,
b1 F
b101 :
b10000001 9
1!
#100
0!
#105
04
b11000 7
b11000 A
b100000 .
b100000 J
b110 =
b110 H
1)
10
1/
b11 8
b11 @
b11 C
0*
b1 G
b110 :
b0 F
1!
#110
0!
#115
0/
0)
00
b10 G
b1100 .
b1100 J
b1100 =
b1100 H
b10 +
b10 B
b0 1
b0 ,
b1 F
b111 :
b100000 9
1!
#120
0!
#125
1'
b10 5
b10 E
b0 G
b10 F
1!
#130
0!
#135
b110000 7
b110000 A
1)
10
1/
b0 5
b0 E
0'
b1 G
b11000 <
b11000 ?
b11000 ;
b11000 >
b111111 .
b111111 J
b111 =
b111 H
b0 F
b11000 #
b11000 I
b11000 $
1!
#140
0!
#145
b10011 7
b10011 A
1'
b1 5
b1 E
b111 <
b111 ?
b1100 ;
b1100 >
b1100 .
b1100 J
b1100 =
b1100 H
b11 +
b11 B
b1100 #
b1100 I
13
b1100 $
1&
b111 1
b11111111 ,
0/
0)
00
b0 G
b1000 :
b111111 9
b1 F
1!
#150
0!
#155
b10011 <
b10011 ?
b100110 7
b100110 A
1)
10
1/
b0 5
b0 E
0'
b1 G
b10011 ;
b10011 >
b1000100 .
b1000100 J
b1000 =
b1000 H
b0 F
b10011 #
b10011 I
b10011 $
1!
#160
0!
#165
b101 7
b101 A
b10 8
b10 @
b10 C
b10011 <
b10011 ?
b11000 ;
b11000 >
b0 .
b0 J
b10011 =
b10011 H
b100 +
b100 B
b11000 #
b11000 I
03
b100 1
b100 ,
1'
b0 5
b0 E
0/
0)
00
b0 G
b1001 :
b1000100 9
b1 F
1!
#170
0!
#175
b1110100 .
b1110100 J
b1001 =
b1001 H
b11000 7
b11000 A
1)
10
1/
b11 8
b11 @
b11 C
0'
b1 G
b101 ;
b101 >
b0 F
b101 #
b101 I
1!
#180
0!
#185
1-
b11000 7
b11000 A
b0 .
b0 J
b10011 =
b10011 H
b111 +
b111 B
0'
b11 8
b11 @
b11 C
0/
0)
00
b0 G
b1010 :
b1110100 9
b1 F
1!
#190
0!
#195
b1010 =
b1010 H
1)
10
1/
0-
b1 G
b0 F
b11110000 .
b11110000 J
1!
#200
0!
#205
b1010 7
b1010 A
12
b101 <
b101 ?
b101 =
b101 H
b1111 +
b1111 B
b101 $
0&
b0 1
b0 ,
0-
0/
0)
00
b11 G
b1011 :
b11110000 9
b1 F
1!
#210
0!
#215
12
b11 F
1!
#220
0!
#225
14
b0 7
b0 A
b0 +
b0 B
b0 <
b0 ?
b0 ;
b0 >
b0 =
b0 H
1)
10
1/
02
b1 G
b0 #
b0 I
b0 $
b0 9
b0 :
b0 F
1"
b0 .
b0 J
1!
#230
0!
#235
1!
#237
0"
#240
0!
#245
b1 <
b1 ?
b1 5
b1 E
04
b1 7
b1 A
b11 +
b11 B
b1 1
b1 ,
1'
b11 8
b11 @
b11 C
0/
0)
00
b0 G
b1 :
b110001 9
b1 F
1!
b110001 .
b110001 J
#250
0!
#255
b10 7
b10 A
1)
10
1/
b0 5
b0 E
0'
b1 G
b1 ;
b1 >
b111010 .
b111010 J
b1 =
b1 H
b0 F
b1 #
b1 I
b1 $
1!
#260
0!
#265
b10 <
b10 ?
b0 ;
b0 >
b0 #
b0 I
13
b10 1
b11111010 ,
1'
b1 5
b1 E
0/
0)
00
b0 G
b10 :
b111010 9
b1 F
1!
#270
0!
#275
b1 <
b1 ?
b10000001 .
b10000001 J
b10 =
b10 H
b11 7
b11 A
1)
10
1/
b0 5
b0 E
0'
b1 G
b10 ;
b10 >
b0 F
b10 #
b10 I
1!
#280
0!
#285
1*
14
b0 7
b0 A
b10 8
b10 @
b10 C
b1 ;
b1 >
b111010 .
b111010 J
b1 =
b1 H
b1000 +
b1000 B
b1 #
b1 I
03
b1 1
b1 ,
0'
b0 5
b0 E
0/
0)
00
b0 G
b11 :
b10000001 9
b1 F
1!
#290
0!
#295
b11110000 .
b11110000 J
b100 =
b100 H
04
b10 7
b10 A
1)
10
1/
b11 8
b11 @
b11 C
0*
b1 G
b0 F
b100 :
1!
#300
0!
#305
12
04
b10 7
b10 A
b111010 .
b111010 J
b1 =
b1 H
b1111 +
b1111 B
b0 1
b0 ,
b11 8
b11 @
b11 C
0/
0)
00
b11 G
b101 :
b11110000 9
b1 F
1!
#310
0!
#315
12
b11 F
1!
#320
0!
#325
1!
